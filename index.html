<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mithun Sidhaarth | Tech Enthusiast</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
* { box-sizing: border-box; }
:root{
  --bg: #e8e8e8;
  --text: #1a1a1a;
  --muted: #555;
  --accent: #000;
  --hacker-red: #d00000;
  --card-bg: rgba(255, 255, 255, 0.65);
  --card-border: 1px solid rgba(255, 255, 255, 0.6);
  --card-blur: blur(24px);
  --premium-shadow: 0 20px 40px -10px rgba(0,0,0,0.1), 0 0 1px rgba(0,0,0,0.05);
  --btn-bg: rgba(255, 255, 255, 0.5);
  --btn-hover: rgba(255, 255, 255, 0.9);
  --modal-bg: rgba(255, 255, 255, 0.95);
  --term-font: "JetBrains Mono", monospace;
  --torch-color: rgba(0, 0, 0, 0.25); 
  --particle-color: rgba(0,0,0,0.2); 
  --skill-track: rgba(0,0,0,0.05);
  --skill-fill: var(--hacker-red);
}
body.dark{
  --bg: #050505;
  --text: #e0e0e0;
  --muted: #888;
  --accent: #fff;
  --hacker-red: #ff3333;
  --card-bg: rgba(20, 20, 20, 0.6);
  --card-border: 1px solid rgba(255, 255, 255, 0.08);
  --premium-shadow: 0 25px 50px -12px rgba(0,0,0,0.5), 0 0 1px rgba(255,255,255,0.05);
  --btn-bg: rgba(255, 255, 255, 0.05);
  --btn-hover: rgba(255, 255, 255, 0.15);
  --modal-bg: rgba(20, 20, 20, 0.95);
  --torch-color: rgba(255, 255, 255, 0.15);
  --particle-color: rgba(255,255,255,0.2);
  --skill-track: rgba(255,255,255,0.1);
  --skill-fill: var(--hacker-red);
}
body.matrix-mode {
    --text: #00ff41;
    --accent: #00ff41;
    --muted: #008f11;
    --bg: #000;
    --hacker-red: #ff0000;
    --card-bg: rgba(0, 20, 0, 0.8);
    --card-border: 1px solid #003b00;
    --torch-color: rgba(0, 255, 65, 0.2);
    --particle-color: rgba(0, 255, 65, 0.3);
    --skill-fill: #00ff41;
    --skill-track: #003b00;
}
body.admin-mode { --accent: #ff3333; }
body{
  margin:0; background:var(--bg); color:var(--text); font-family:"Space Grotesk", sans-serif;
  height:100vh; overflow:hidden; transition: background 0.4s ease, color 0.4s ease;
}
#neural-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
#layout{
  display:grid; grid-template-columns: 1fr 1.3fr; height:100vh; gap:24px; padding:24px; max-width: 1800px; margin: 0 auto;
}
#left{ display:grid; grid-template-rows: 1fr auto; gap:24px; height: 100%; overflow: hidden; }
.panel{
  background: var(--card-bg); backdrop-filter: var(--card-blur); -webkit-backdrop-filter: var(--card-blur);
  border: var(--card-border); box-shadow: var(--premium-shadow); border-radius:24px; padding:36px;
  display: flex; flex-direction: column; transition: transform 0.3s ease, box-shadow 0.3s ease; min-height: 0;
}
.panel-header { flex-shrink: 0; margin-bottom: 20px; border-bottom: 1px solid rgba(125,125,125,0.1); padding-bottom: 15px; }
.panel-scroll { flex: 1; overflow-y: auto; overflow-x: hidden; padding-right: 0; scrollbar-width: none; -ms-overflow-style: none; }
.panel-scroll::-webkit-scrollbar { display: none; }
#name{ font-size:3.5rem; font-weight:700; letter-spacing:-0.03em; line-height:1; margin-bottom: 8px; transform-origin: left center; }
#subtitle{ font-size:1.1rem; color:var(--muted); margin-bottom:24px; font-weight:500; letter-spacing: 0.05em; text-transform: uppercase; }
#bio-typewriter {
    font-family: var(--term-font); font-size: 0.9rem; line-height: 1.6; color: var(--text);
    margin-bottom: 10px; min-height: 80px; white-space: pre-wrap; opacity: 0.9;
}
#bio-typewriter::after { content: '‚ñã'; display: inline-block; animation: blink 1s step-end infinite; color: var(--hacker-red); margin-left: 2px; }
@keyframes blink { 50% { opacity: 0; } }
.section { margin-bottom:32px; }
.section h3{ font-size:0.75rem; color:var(--muted); text-transform:uppercase; letter-spacing:2px; margin:0 0 14px 0; font-weight:700; opacity: 0.8; }
.interactive-list { list-style: none; padding: 0; margin: 0; }
.interactive-item {
    position: relative; padding: 6px 0 6px 20px; font-size: 1.05rem; font-weight: 500;
    cursor: pointer; transition: all 0.2s ease; border-radius: 6px;
}
.interactive-item:before { content: "‚Ä¢"; position: absolute; left: 0; color: var(--hacker-red); font-weight: bold; transition: color 0.2s; }
.interactive-item:hover { background: var(--btn-hover); padding-left: 28px; color: var(--text); }
.interactive-item:hover:before { color: var(--text); left: 8px; }
.skill-container { margin-bottom: 14px; }
.skill-info {
    display: flex; justify-content: space-between; font-size: 0.85rem; font-weight: 700;
    font-family: var(--term-font); margin-bottom: 5px; color: var(--muted);
}
.skill-track { width: 100%; height: 8px; background: var(--skill-track); border-radius: 4px; overflow: hidden; position: relative; }
.skill-fill {
    height: 100%; background: var(--skill-fill); border-radius: 4px; width: 0%;
    transition: width 1.5s cubic-bezier(0.2, 1, 0.3, 1); box-shadow: 0 0 10px var(--hacker-red);
}
.cheat-sheet { background: var(--btn-bg); border: var(--card-border); border-radius: 16px; padding: 24px; font-size: 0.8rem; backdrop-filter: blur(10px); }
.cheat-cols { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
.cheat-header {
    font-weight: 700; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 1.5px;
    font-size: 0.7rem; color: var(--muted); opacity: 0.8; border-bottom: 1px solid rgba(125,125,125,0.2); padding-bottom: 4px;
}
.cheat-row { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px dashed rgba(125,125,125,0.15); }
.cheat-row:last-child { border-bottom: none; }
.cmd-key { font-family: var(--term-font); font-weight: 700; color: var(--hacker-red); }
.cmd-desc { color: var(--muted); }
#right{ display:grid; grid-template-rows: 1fr auto; gap:24px; height: 100%; overflow: hidden; }
#terminal{
  background: var(--card-bg); backdrop-filter: var(--card-blur); border: var(--card-border);
  box-shadow: inset 0 0 30px rgba(0,0,0,0.03), var(--premium-shadow); font-family: var(--term-font); padding: 32px;
  min-height: 0; display: flex; flex-direction: column;
}
#output{
  flex:1; overflow-y:auto; white-space: pre-wrap; font-size: 0.95rem; line-height: 1.7;
  color: var(--text); padding-bottom: 20px; text-shadow: 0 0 1px rgba(0,0,0,0.05);
}
#output::-webkit-scrollbar { width: 6px; }
#output::-webkit-scrollbar-thumb { background: var(--muted); border-radius: 4px; }
#input{ display:flex; margin-top:auto; align-items: center; border-top: 1px solid rgba(125,125,125,0.2); padding-top: 20px; }
#input span{ margin-right:16px; color:var(--hacker-red); font-weight:bold; }
input{ border:none; background:transparent; color:var(--text); outline:none; width:100%; font-family: var(--term-font); font-size:1rem; }
.export-btn {
    display: inline-block; margin-top: 8px; padding: 8px 16px; background: var(--btn-bg);
    border: 1px solid var(--accent); color: var(--text); font-family: var(--term-font);
    font-weight: 600; cursor: pointer; border-radius: 4px; transition: all 0.2s;
}
.export-btn:hover { background: var(--accent); color: var(--bg); }
.contact-panel { background: transparent; border: none; box-shadow: none; padding: 0; backdrop-filter: none; }
.contact-list{ display:grid; grid-template-columns: repeat(4, 1fr); gap:16px; }
.contact-item{
  display:flex; align-items:center; gap:10px; justify-content: center; padding:18px 10px; 
  background: var(--btn-bg); border: var(--card-border); border-radius:16px; cursor:pointer; 
  font-size:.85rem; font-weight: 600; color: var(--muted);
  transition: all .3s cubic-bezier(0.25, 0.8, 0.25, 1); backdrop-filter: blur(5px);
}
.contact-item:hover{ background: var(--btn-hover); color: var(--text); transform: translateY(-4px); box-shadow: 0 10px 20px rgba(0,0,0,0.08); }
.contact-item .icon { font-size: 1.1rem; color: var(--accent); transition: color 0.3s; }
.contact-item:hover .icon { color: var(--hacker-red); }
.status-btn {
    background: var(--text); color: var(--bg); border: 1px solid var(--accent);
}
.status-btn:hover { background: var(--accent); color: var(--bg); }

#music-widget {
    position: fixed; top: 24px; right: 24px;
    background: var(--card-bg); border: var(--card-border);
    padding: 10px 20px; border-radius: 50px;
    backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px);
    cursor: pointer; display: flex; align-items: center; gap: 12px;
    box-shadow: var(--premium-shadow); z-index: 1500;
    transition: all 0.3s ease;
}
#music-widget:hover { transform: translateY(2px); border-color: var(--hacker-red); }
.music-bars { display: flex; align-items: flex-end; gap: 3px; height: 16px; }
.bar { width: 3px; background: var(--muted); height: 4px; border-radius: 2px; transition: all 0.2s; }
.playing .bar { background: var(--hacker-red); animation: equalize 0.8s infinite ease-in-out; }
.playing .bar:nth-child(1) { animation-delay: 0.1s; }
.playing .bar:nth-child(2) { animation-delay: 0.3s; }
.playing .bar:nth-child(3) { animation-delay: 0.0s; }
.playing .bar:nth-child(4) { animation-delay: 0.4s; }
@keyframes equalize { 0% { height: 4px; } 50% { height: 16px; } 100% { height: 4px; } }
#music-label { font-family: var(--term-font); font-size: 0.75rem; font-weight: 700; letter-spacing: 1px; color: var(--text); }

@media (max-width: 900px) {
    body { overflow-y: auto; height: auto; }
    #layout { display: flex; flex-direction: column; gap: 32px; padding: 24px; height: auto; }
    #left { order: 1; height: auto; display: block; overflow: visible; }
    .panel { height: auto; min-height: auto; margin-bottom: 24px; } 
    .panel-scroll { overflow: visible; }
    #name { font-size: 2.8rem; }
    #right { order: 2; height: auto; gap: 24px; }
    #terminal { height: 500px; min-height: 500px; }
    .contact-list { grid-template-columns: 1fr 1fr; } 
    .cheat-cols { grid-template-columns: 1fr; gap: 16px; }
    #torch { display: none; } 
    #neural-canvas { display: none; }
    #music-widget { top: auto; bottom: 16px; right: 16px; transform: none; }
    #music-widget:hover { transform: translateY(-2px); }
}
#torch{
  position:fixed; width:450px; height:450px; border-radius:50%; pointer-events:none;
  background:radial-gradient(circle,var(--torch-color),transparent 65%);
  filter:blur(50px); transform:translate(-50%,-50%); z-index:999; transition: background 0.3s ease;
}
#modal-overlay {
  display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(16px);
  z-index: 2000; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s ease; padding: 20px; box-sizing: border-box;
}
#modal-overlay.active { display: flex; opacity: 1; }
#modal-container {
  width: 100%; height: 100%; max-width: 1100px; max-height: 85vh;
  background: var(--modal-bg); border: var(--card-border); border-radius: 20px; 
  box-shadow: 0 40px 80px -20px rgba(0,0,0,0.6); display: flex; flex-direction: column; overflow: hidden;
}
#modal-header { padding: 16px 24px; border-bottom: 1px solid rgba(125,125,125,0.1); display: flex; justify-content: space-between; align-items: center; flex-shrink: 0; }
#modal-title { font-weight: 700; font-size: 1.1rem; }
.modal-controls { display: flex; gap: 10px; }
.modal-btn {
  background: transparent; border: 1px solid rgba(125,125,125,0.3); color: var(--text);
  padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: 600;
}
.modal-btn:hover { background: rgba(125,125,125,0.1); }
#modal-iframe { flex: 1; border: none; background: #fff; }
#modal-text {
    flex: 1; display: none; justify-content: center; align-items: center;
    padding: 40px; text-align: center; font-size: 1.2rem; font-weight: 500;
    color: var(--text); font-family: "Space Grotesk", sans-serif;
    overflow-y: auto; white-space: pre-wrap; line-height: 1.5; flex-direction: column;
}
</style>
</head>
<body class="dark">
<canvas id="neural-canvas"></canvas>
<div id="torch"></div>
<audio id="bg-music" src="music.mp3" loop></audio>
<div id="music-widget" onclick="toggleAudio()">
    <div class="music-bars" id="visualizer">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
    </div>
    <span id="music-label">SONIC FEED: OFF</span>
</div>
<div id="modal-overlay">
  <div id="modal-container">
    <div id="modal-header">
      <span id="modal-title">Preview</span>
      <div class="modal-controls">
        <button class="modal-btn" id="modal-ext">‚Üó External</button>
        <button class="modal-btn" onclick="closeModal()">‚úï Close</button>
      </div>
    </div>
    <iframe id="modal-iframe" src=""></iframe>
    <div id="modal-text"></div>
  </div>
</div>
<div id="layout">
<div id="left">
  <div class="panel" style="flex:1; overflow:hidden;">
    <div class="panel-header">
      <div id="name">Mithun Sidhaarth</div>
      <div id="subtitle">Tech Enthusiast</div>
      <div id="bio-typewriter"></div>
    </div>
    <div class="panel-scroll">
      <div class="section">
        <h3>Projects</h3>
        <ul id="list-projects" class="interactive-list"></ul>
      </div>
      <div class="section">
        <h3>Blogs</h3>
        <ul id="list-blogs" class="interactive-list"></ul>
      </div>
      <div class="section">
        <h3>Research</h3>
        <ul id="list-research" class="interactive-list"></ul>
      </div>
      <div class="section">
        <h3>Skills</h3>
        <div id="list-skills"></div>
      </div>
    </div>
  </div>
  <div class="cheat-sheet">
    <div class="cheat-cols">
      <div class="cheat-col">
        <div class="cheat-header">Navigation</div>
        <div class="cheat-row"><span class="cmd-key">ls</span><span class="cmd-desc">See files</span></div>
        <div class="cheat-row"><span class="cmd-key">cd [dir]</span><span class="cmd-desc">Open folder</span></div>
        <div class="cheat-row"><span class="cmd-key">cd ..</span><span class="cmd-desc">Go back</span></div>
        <div class="cheat-row"><span class="cmd-key">open [id]</span><span class="cmd-desc">View item</span></div>
      </div>
      <div class="cheat-col">
        <div class="cheat-header">More</div>
        <div class="cheat-row"><span class="cmd-key">resume</span><span class="cmd-desc">View PDF</span></div>
        <div class="cheat-row"><span class="cmd-key">hack</span><span class="cmd-desc">Simulate</span></div>
        <div class="cheat-row"><span class="cmd-key">music</span><span class="cmd-desc">Play/Pause</span></div>
        <div class="cheat-row"><span class="cmd-key">theme</span><span class="cmd-desc">L/D Mode</span></div>
        <div class="cheat-row"><span class="cmd-key">matrix</span><span class="cmd-desc">Matrix Mode</span></div>
      </div>
    </div>
  </div>
</div>
<div id="right">
  <div class="panel" id="terminal">
    <div id="output"></div>
    <div id="input"><span id="prompt">‚ûú ~</span><input id="cmd" autofocus autocomplete="off"></div>
  </div>
  <div class="contact-panel">
    <div class="contact-list">
      <div class="contact-item" onclick="openLink('mailto:mithunsidhaartham@gmail.com')"><span class="icon">‚úâ</span> Email</div>
      <div class="contact-item" onclick="openLink('https://www.linkedin.com/in/mithunsidhaarth/')"><span class="icon">in</span> LinkedIn</div>
      <div class="contact-item" onclick="openLink('https://github.com/MithunSidhaarth')"><span class="icon">üêô</span> GitHub</div>
      <div class="contact-item" onclick="openLink('https://www.researchgate.net/profile/Mithun-Sidhaarth-Am')"><span class="icon">RG</span> Papers</div>
      <div class="contact-item" onclick="openLink('https://www.instagram.com/mithunsidhaarth/')"><span class="icon">üì∑</span> Insta</div>
      <div class="contact-item" onclick="openLink('https://hashnode.com/@mithunsidhaarth')"><span class="icon">‚úç</span> Blog</div>
      <div class="contact-item" onclick="openLink('https://t.me/aceduke')"><span class="icon">‚úà</span> Telegram</div>
      <div class="contact-item status-btn" onclick="showStatusModal()"><span class="icon">‚ö°</span> Status</div>
    </div>
  </div>
</div>
</div>
<script>
const canvas = document.getElementById("neural-canvas");
const ctx = canvas.getContext("2d");
let particles = [], mouse = { x: null, y: null };
function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
window.addEventListener("resize", resize); resize();
document.addEventListener("mousemove", (e) => {
    mouse.x = e.clientX; mouse.y = e.clientY;
    document.getElementById("torch").style.left = e.clientX + "px";
    document.getElementById("torch").style.top = e.clientY + "px";
});
class Particle {
    constructor() {
        this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height;
        this.vx = (Math.random() - 0.5) * 0.5; this.vy = (Math.random() - 0.5) * 0.5;
        this.size = Math.random() * 2 + 1;
    }
    update() {
        this.x += this.vx; this.y += this.vy;
        if (this.x < 0 || this.x > canvas.width) this.vx *= -1;
        if (this.y < 0 || this.y > canvas.height) this.vy *= -1;
        let dx = mouse.x - this.x, dy = mouse.y - this.y;
        let dist = Math.sqrt(dx*dx + dy*dy);
        if (dist < 150) {
            this.vx -= (dx/dist) * ((150-dist)/150) * 0.5;
            this.vy -= (dy/dist) * ((150-dist)/150) * 0.5;
        }
    }
    draw() {
        ctx.fillStyle = getComputedStyle(document.body).getPropertyValue('--particle-color').trim();
        ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill();
    }
}
function initParticles() { particles = []; for (let i = 0; i < (window.innerWidth>900?80:30); i++) particles.push(new Particle()); }
function animateParticles() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    const pColor = getComputedStyle(document.body).getPropertyValue('--particle-color').trim();
    particles.forEach((p, i) => {
        p.update(); p.draw();
        for (let j = i; j < particles.length; j++) {
            let dx = p.x - particles[j].x, dy = p.y - particles[j].y;
            if (Math.sqrt(dx*dx+dy*dy) < 150) {
                ctx.beginPath(); ctx.strokeStyle = pColor; ctx.lineWidth = 0.5;
                ctx.moveTo(p.x, p.y); ctx.lineTo(particles[j].x, particles[j].y); ctx.stroke();
            }
        }
    });
    requestAnimationFrame(animateParticles);
}
initParticles(); animateParticles();
const bioText = "I‚Äôm Mithun Sidhaarth, someone who loves learning across boundaries. I‚Äôm deeply interested in computer science, but just as curious about how people think, feel, and decide. Philosophy helps me question, psychology helps me understand, and technology gives me a way to build.";
const bioElement = document.getElementById("bio-typewriter");
function typeBio(text, i) { if (i < text.length) { bioElement.textContent += text.charAt(i); setTimeout(() => typeBio(text, i + 1), 15); } }
setTimeout(() => typeBio(bioText, 0), 500);
let data={
  currentStatus: "Figuring out what to learn next w a bottle of omr",
  projects:[
    {title:"Portfolio Console", demo:"https://methsole.hashnode.dev/building-my-portfolio-os-a-personal-system-for-thinking-creating-and-growing?showSharer=true", code:"#"}
  ],
  blogs:[
    {title:"Malware Detection Survey", link:"https://malwaredl.hashnode.dev/a-survey-of-malware-detection-using-deep-learning-explained-with-reflections?showSharer=true"}
  ],
  research:[],
  skills:[
    {name: "WordPress Dev", level: 75},
    {name: "Linux", level: 60},
    {name: "Python", level: 60},
    {name: "HTML/CSS", level: 40},
    {name: "Machine Learning", level: 15},
    {name: "Cloud Dashboard Mgmt", level: 10}
  ],
  commands: ["help","projects","blogs","research","skills","contact","status","theme","clear","resume","search","hack","matrix","ls","cd","open","login","export","new","music"]
};
function renderLeftPanel() {
    const createList = (id, cat) => {
        const ul = document.getElementById(id);
        ul.innerHTML = data[cat].map((item, i) => 
            `<li class="interactive-item" onclick="openFromLeft('${cat}', ${i})">${item.title}</li>`
        ).join('');
    };
    createList('list-projects', 'projects');
    createList('list-blogs', 'blogs');
    createList('list-research', 'research');
    const skillContainer = document.getElementById('list-skills');
    skillContainer.innerHTML = data.skills.map(skill => `
        <div class="skill-container">
            <div class="skill-info"><span>${skill.name}</span><span>${skill.level}%</span></div>
            <div class="skill-track"><div class="skill-fill" style="width: 0%" data-width="${skill.level}%"></div></div>
        </div>
    `).join('');
    setTimeout(() => {
        document.querySelectorAll('.skill-fill').forEach(bar => { bar.style.width = bar.getAttribute('data-width'); });
    }, 500);
}
renderLeftPanel();
function openFromLeft(category, index) {
    const item = data[category][index];
    if(item) {
        let url = item.demo && item.demo !== "#" ? item.demo : (item.link || item.code);
        if(!url || url === "#") { print(`Error: No link available for ${item.title}`); return; }
        openModal(item.title, url);
        print(`> Opening ${item.title}...`);
    }
}
let currentPath = "~";
let currentDirectory = "root"; 
let selectedItem = null;
let isAdmin = false;
let inputState = null;
let tempItem = {}; 
let cmdHistory=[], historyIndex=-1, isTyping=false;
const output=document.getElementById("output"), input=document.getElementById("cmd"), promptSpan=document.getElementById("prompt");
const modalOverlay=document.getElementById("modal-overlay"), modalTitle=document.getElementById("modal-title"), modalFrame=document.getElementById("modal-iframe");
const modalText = document.getElementById("modal-text");
const modalExtBtn = document.getElementById("modal-ext");
function typeWriter(text, i, fn) {
  if (i < text.length) { output.textContent += text.charAt(i); output.scrollTop = output.scrollHeight; setTimeout(() => typeWriter(text, i + 1, fn), 2); } 
  else if (typeof fn == 'function') fn();
}
function print(t, instant=false){
  if(instant){ output.textContent += t + "\n\n"; output.scrollTop = output.scrollHeight; return; }
  isTyping = true; input.disabled = true; typeWriter(t + "\n\n", 0, function(){ isTyping = false; input.disabled = false; input.focus(); });
}
print("MithunOS v29.0 [Online].\nType 'help' for commands.");
function openModal(title, url) {
    modalText.style.display = "none";
    modalFrame.style.display = "block";
    modalExtBtn.style.display = "block";
    if (url.includes("hashnode.dev") || url.includes("github.com") || url.includes("linkedin.com")) {
        modalFrame.style.display = "none";
        modalText.style.display = "flex";
        modalText.innerHTML = `
            <div style="text-align:center">
                <p style="font-size:2rem; margin-bottom:10px">‚ö†Ô∏è</p>
                <p>Security Protocol: Embed Denied</p>
                <p style="font-size:0.9rem; color:var(--muted); margin-bottom:20px">${url}</p>
                <button class="export-btn" onclick="window.open('${url}', '_blank')">OPEN IN NEW TAB ‚Üó</button>
            </div>
        `;
        modalTitle.innerText = "Security Alert";
    } else {
        if(!url || url === "#") return print("Error: Invalid Link.");
        modalTitle.innerText = title; 
        modalFrame.src = url; 
        modalExtBtn.onclick = () => window.open(url, "_blank");
    }
    modalOverlay.style.display = "flex"; setTimeout(() => modalOverlay.classList.add("active"), 10);
}
function showStatusModal() {
    modalFrame.style.display = "none";
    modalExtBtn.style.display = "none";
    modalText.style.display = "flex";
    modalText.innerHTML = data.currentStatus;
    modalTitle.innerText = "Current Status";
    modalOverlay.style.display = "flex"; setTimeout(() => modalOverlay.classList.add("active"), 10);
}
function closeModal() { modalOverlay.classList.remove("active"); setTimeout(() => { modalOverlay.style.display = "none"; modalFrame.src = ""; }, 300); }
document.addEventListener("keydown", e => { if (e.key === "Escape" && modalOverlay.classList.contains("active")) closeModal(); });
const audioPlayer = document.getElementById("bg-music");
const musicWidget = document.getElementById("music-widget");
const musicLabel = document.getElementById("music-label");
const visualizer = document.getElementById("visualizer");
audioPlayer.volume = 0.5;
function toggleAudio() {
    if(audioPlayer.paused) {
        audioPlayer.play().then(() => {
            musicLabel.innerText = "SONIC FEED: LIVE";
            visualizer.classList.add("playing");
        }).catch(e => print("Error: Interaction required to play music."));
    } else {
        audioPlayer.pause();
        musicLabel.innerText = "SONIC FEED: OFF";
        visualizer.classList.remove("playing");
    }
}
function handle(cmd){
  if(inputState === 'login') {
      if(btoa(cmd) === 'ZGNzdWNrczEyMy8t') {
          isAdmin = true;
          inputState = null;
          document.body.classList.add('admin-mode');
          return print("Access Granted. Welcome, Admin.\nNew commands unlocked:\n- new project | blog | paper\n- set status\n- set skill [name] [value]\n- export");
      } else {
          inputState = null;
          return print("Access Denied.");
      }
  }
  if(inputState && inputState.startsWith('new-')) {
      if(cmd === 'cancel') { inputState = null; return print("Operation cancelled."); }
      if(inputState === 'new-title') {
          tempItem.title = cmd;
          inputState = 'new-link';
          return print("Enter Link/Demo URL:");
      }
      if(inputState === 'new-link') {
          tempItem.demo = cmd; 
          tempItem.link = cmd;
          const cat = tempItem.category;
          data[cat].push(tempItem);
          renderLeftPanel(); 
          inputState = null;
          return print(`Success! Added "${tempItem.title}" to ${cat}.\nType 'export' to save.`);
      }
  }
  if(inputState === 'set-status') {
      data.currentStatus = cmd;
      inputState = null;
      return print("Status updated. Type 'export' to save.");
  }
  if(cmd && cmd !== cmdHistory[cmdHistory.length-1]){ cmdHistory.push(cmd); historyIndex = cmdHistory.length; }
  const p = (str) => str.padEnd(12, ' ');
  if(cmd==="help") return print(`COMMANDS\n--------\n${p("ls")} List files\n${p("cd [dir]")} Change dir\n${p("open [id]")} Open item\n${p("resume")} PDF Resume\n${p("hack")} Simulation\n${p("music")} Play/Pause\n${p("matrix")} Matrix Mode\n${p("theme")} Light/Dark`);
  if(cmd==="sudo login") {
      inputState = 'login';
      return print("Enter Password:");
  }
  if(cmd==="export") {
      if(!isAdmin) return print("Permission denied.");
      const btn = document.createElement("button");
      btn.innerText = "Copy Data";
      btn.className = "export-btn";
      btn.onclick = function() {
          navigator.clipboard.writeText(JSON.stringify(data, null, 2));
          this.innerText = "Copied!";
          this.style.background = "#28a745";
          this.style.color = "#fff";
      };
      print("Export generated:", true);
      output.appendChild(btn);
      output.scrollTop = output.scrollHeight;
      return;
  }
  if(cmd==="set status") {
      if(!isAdmin) return print("Permission denied.");
      inputState = 'set-status';
      return print("Enter new status message:");
  }
  if(cmd.startsWith("set skill ")) {
      if(!isAdmin) return print("Permission denied.");
      const parts = cmd.split(" ");
      if(parts.length < 4) return print("Usage: set skill [name] [level]");
      const level = parseInt(parts.pop());
      const name = parts.slice(2).join(" ");
      const skill = data.skills.find(s => s.name.toLowerCase() === name.toLowerCase());
      if(skill) {
          skill.level = level;
          renderLeftPanel();
          return print(`Skill '${skill.name}' updated to ${level}%.`);
      }
      return print("Skill not found.");
  }
  if(cmd.startsWith("new ")) {
      if(!isAdmin) return print("Permission denied.");
      const type = cmd.replace("new ", "").trim();
      let category = "";
      if(type === "project") category = "projects";
      else if(type === "blog") category = "blogs";
      else if(type === "paper" || type === "research") category = "research";
      if(category) {
          inputState = 'new-title';
          tempItem = { category: category };
          return print(`Creating new ${type}...\nEnter Title:`);
      }
      return print("Invalid type.");
  }
  if(cmd.startsWith("cd")){
      const target = cmd.replace("cd", "").trim();
      if(!target || target === "~") { currentPath = "~"; currentDirectory = "root"; }
      else if(target === "..") { currentPath = "~"; currentDirectory = "root"; }
      else if(["projects","blogs","research"].includes(target)) { currentPath = `~/${target}`; currentDirectory = target; }
      else return print(`cd: no such directory: ${target}`);
      promptSpan.innerText = `‚ûú ${currentPath}`; selectedItem = null; return print("");
  }
  if(cmd === "ls") {
      if(currentDirectory === "root") return print("drwx------ projects/\ndrwx------ blogs/\ndrwx------ research/\n-r--r--r-- resume.pdf");
      return print(data[currentDirectory].map((item, i) => `[${i+1}] ${item.title}`).join("\n"));
  }
  if(cmd.startsWith("open")){
    const i=parseInt(cmd.split(" ")[1])-1;
    if(isNaN(i)) return print("Usage: open [number]");
    if(currentDirectory === "root") return print("Error: Enter a directory first.");
    if(data[currentDirectory][i]) {
        selectedItem = data[currentDirectory][i];
        return print(`Selected: ${selectedItem.title}\nType 'demo', 'code', or 'read' to view.`);
    } else return print("File not found.");
  }
  if(cmd==="demo" && selectedItem?.demo) return openModal(selectedItem.title, selectedItem.demo);
  if(cmd==="code" && selectedItem?.code) return openModal(selectedItem.title, selectedItem.code);
  if(cmd==="read" && selectedItem?.link) return openModal(selectedItem.title, selectedItem.link);
  if(cmd==="resume") return openModal("Resume", "resume.pdf");
  if(cmd==="theme"){ document.body.classList.toggle("dark"); return print("Theme switched."); }
  if(cmd==="clear"){ output.textContent=""; return; }
  if(cmd==="hack") {
      const lines=["Accessing Mainframe...","Bypassing Firewall...","Downloading Data...","Access Granted."];
      let i=0; input.disabled=true;
      function run(){ if(i<lines.length){ output.textContent+=`> ${lines[i++]}\n`; output.scrollTop=output.scrollHeight; setTimeout(run, 400); } else { input.disabled=false; input.focus(); } }
      run(); return;
  }
  if(cmd==="matrix"){ document.body.classList.toggle("matrix-mode"); return print("Matrix Mode."); }
  if(cmd==="music" || cmd==="music play") {
      if(audioPlayer.paused) { toggleAudio(); return print("Music started."); }
      else { toggleAudio(); return print("Music paused."); }
  }
  if(cmd==="music pause" || cmd==="music stop") {
      if(!audioPlayer.paused) toggleAudio();
      return print("Music stopped.");
  }
  print(`Command not found: '${cmd}'.`);
}
input.addEventListener("keydown",e=>{
  if(isTyping) { e.preventDefault(); return; }
  if(e.key==="Tab"){ e.preventDefault(); const m=data.commands.find(c=>c.startsWith(input.value)); if(m) input.value=m; }
  if(e.key==="ArrowUp" && historyIndex>0) input.value=cmdHistory[--historyIndex];
  if(e.key==="ArrowDown") input.value = historyIndex<cmdHistory.length-1 ? cmdHistory[++historyIndex] : "";
  if(e.key==="Enter"){ 
      const c=input.value.trim().toLowerCase(); 
      if(inputState === 'login') { print("‚ûú [HIDDEN]", true); handle(c); } 
      else if(c){ print(`‚ûú ${currentPath} ${c}`, true); handle(c); }
      input.value=""; 
  }
});
function openLink(url){ window.open(url,"_blank"); }
</script>
</body>
</html>
